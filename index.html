<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Schedule App</title>
    <style>
  
        * {
            -webkit-tap-highlight-color: transparent;
            margin: 0;
            padding: 0;
            box-sizing: border-box;

            user-select: none;
        }

        body {
            background-color: #4e54c8;
        }

        .schedule-container {
            width: 100%;
            margin: 0 auto;
            padding: 70px 0 10px;
            background-color: #4e54c8;
        }

        .calendar {
            background-color: #4e54c8;
            padding: 20px 0;
            color: #fff;
        }

        .month {
            display: flex;
            justify-content: flex-start;
            padding-left: 20px;
            font-size: 24px;
            font-weight: bold;
        }

        .weekdays {
            display: flex;
            overflow-x: auto;
            margin-top: 15px;
            padding: 10px 0;
            scroll-behavior: smooth;
        }

        .weekdays div {
            text-align: center;
            flex-shrink: 0;
            width: 50px;
            margin-right: 10px;
        }

        .weekdays div:first-child {
            margin-left: 10px;
        }

        .day-block {
            background-color: #5a60ea;
            border-radius: 20px;
            padding: 5px;
            color: #fff;
            display: flex;
            flex-direction: column;
            justify-content: center;
            height: 60px;
            cursor: pointer;
        }

        .weekdays .active {
            background-color: #fff;
            color: #4e54c8;
        }

        .tasks {
            margin-top: 10px;
            background-color: #fff;
            padding: 20px;
            border-radius: 40px 40px 0 0;
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: calc(100% - 230px);
            overflow-y: auto;
        }

        .tasks-title {
            font-size: 24px;
            color: #4e54c8;
        }


.tasks ul {
    list-style: none;
    padding-left: 40px; /* Отступ для размещения линий */
    position: relative; /* Для абсолютного позиционирования */
}

.tasks ul::before {
    content: '';
    position: absolute;
    left: 16px; /* Начало линии от блока */
    top: 0; /* Начало линии сверху */
    bottom: 0; /* Конец линии снизу */
    width: 2px; /* Ширина линии */
    background-color: #e7e7fd; /* Цвет линии */
}

/* Общие стили для задач */
.tasks ul li {
    padding: 15px;
    border-radius: 10px;
    margin-bottom: 10px;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    font-size: 16px;
    position: relative;
    height: 80px;
}

.tasks ul li span {
    font-size: 14px; /* Размер шрифта для времени и кабинета */
}

.tasks ul li .subject {
    font-weight: bold;
    font-size: 16px;
}

/* Стили для цветов блоков и кругов */
.tasks ul li.color-1 {
    background-color: #ddddff; /* Цвет блока */
}
.tasks ul li.color-1::before {
    border-color: #ddddff; /* Цвет круга */
}

.tasks ul li.color-2 {
    background-color: #caedff;
}
.tasks ul li.color-2::before {
    border-color: #caedff;
}

.tasks ul li.color-3 {
    background-color: #caf7f4;
}
.tasks ul li.color-3::before {
    border-color: #caf7f4;
}

.tasks ul li.color-4 {
    background-color: #fee1dd;
}
.tasks ul li.color-4::before {
    border-color: #fee1dd;
}

/* Пятый цвет */
.tasks ul li.color-5 {
    background-color: #ffd1e1; /* Подобранный цвет */
}
.tasks ul li.color-5::before {
    border-color: #ffd1e1;
}
.tasks ul li::before {
    content: '';
    position: absolute;
    left: -31px; /* Расположение круга слева от линии */
    top: 50%; /* Центрируем круг по вертикали */
    transform: translateY(-50%); /* Центрируем круг по вертикали */
    width: 12px;
    height: 12px;
    border-radius: 50%; /* Круг */
    border: 2px solid #4e54c8; /* Цвет круга */
    background-color: #fff; /* Цвет фона круга */
    z-index: 1; /* Круг над линией */
    transition: background-color 0.3s, border 0.3s;
}

.tasks ul li.completed::before {
    background-color: #4e54c8; /* Закрашенный круг после завершения */
    border-color: #4e54c8; /* Цвет обводки круга */
}

.tasks ul li.active::before {
    background-color: #fff; /* Цвет круга во время выполнения */
    border-color: #4e54c8; /* Цвет обводки круга */
}

.otstup {
    height: 20px;
    }
        .checkmark {
            display: none;
            font-weight: bold;
            font-size: 18px;
            color: #4e54c8;
        }
    </style>
</head>
<body>
    <div class="schedule-container">
        <div class="calendar">
            <div class="month">
                <span class="month-name" id="month-name"></span>
            </div>
            <div class="weekdays" id="weekdays"></div>
        </div>
    </div>
    
    <div class="tasks">
        <h2 class="tasks-title">Today's Tasks</h2>
        <div class="otstup"></div>
        <ul id="task-list"></ul>
    </div>

    <script>
        let scheduleData = {
    "30/09/2024": [
        { time: "9:00-10:30", subject: "", room: "" },
        { time: "10:40-12:10", subject: "", room: "" },
        { time: "13:20-14:50", subject: "Математический анализ", room: "2С3" },
        { time: "15:00-16:30", subject: "Математический анализ", room: "2С3" },
        { time: "16:40-18:10", subject: "", room: "" }
    ],
    "01/10/2024": [
        { time: "9:00-10:30", subject: "", room: "" },
        { time: "10:40-12:10", subject: "Физкультура", room: "" },
        { time: "13:20-14:50", subject: "Математический анализ", room: "2А5" },
        { time: "15:00-16:30", subject: "Математический анализ", room: "2А5" },
        { time: "16:40-18:10", subject: "", room: "" }
    ],
    "02/10/2024": [
        { time: "9:00-10:30", subject: "", room: "" },
        { time: "10:40-12:10", subject: "", room: "" },
        { time: "13:20-14:50", subject: "Математический анализ", room: "2А5" },
        { time: "15:00-16:30", subject: "Математический анализ", room: "2А5" },
        { time: "16:40-18:10", subject: "", room: "" }
    ],
    "03/10/2024": [
        { time: "9:00-10:30", subject: "", room: "" },
        { time: "10:40-12:10", subject: "Физкультура", room: "" },
        { time: "13:20-14:50", subject: "Математический анализ", room: "2А5" },
        { time: "15:00-16:30", subject: "Математический анализ", room: "2А5" },
        { time: "16:40-18:10", subject: "", room: "" }
    ],
    "04/10/2024": [
        { time: "9:00-10:30", subject: "", room: "" },
        { time: "10:40-12:10", subject: "", room: "" },
        { time: "13:20-14:50", subject: "Математический анализ", room: "2А5" },
        { time: "15:00-16:30", subject: "Математический анализ", room: "2А5" },
        { time: "16:40-18:10", subject: "", room: "" }
    ],
    "05/10/2024": [
        { time: "9:00-10:30", subject: "", room: "" },
        { time: "10:40-12:10", subject: "", room: "" },
        { time: "13:20-14:50", subject: "Математический анализ", room: "2А5" },
        { time: "15:00-16:30", subject: "Математический анализ", room: "2А5" },
        { time: "16:40-18:10", subject: "", room: "" }
    ],
    "07/10/2024": [
        { time: "9:00-10:30", subject: "Операционные системы", room: "1С2" },
        { time: "10:40-12:10", subject: "Операционные системы", room: "1С2" },
        { time: "13:20-14:50", subject: "Математический анализ", room: "2А2" },
        { time: "15:00-16:30", subject: "Математический анализ", room: "2А2" },
        { time: "16:40-18:10", subject: "", room: "" }
    ],
    "08/10/2024": [
        { time: "9:00-10:30", subject: "Операционные системы", room: "1С2" },
        { time: "10:40-12:10", subject: "Операционные системы", room: "1С2" },
        { time: "13:20-14:50", subject: "Операционные системы", room: "1С2" },
        { time: "15:00-16:30", subject: "Математический анализ", room: "2А2" },
        { time: "16:40-18:10", subject: "", room: "" }
    ],
    "09/10/2024": [
        { time: "9:00-10:30", subject: "Операционные системы", room: "1С2" },
        { time: "10:40-12:10", subject: "Операционные системы", room: "1С2" },
        { time: "13:20-14:50", subject: "Операционные системы", room: "1С2" },
        { time: "15:00-16:30", subject: "", room: "" },
        { time: "16:40-18:10", subject: "", room: "" }
    ],
    "10/10/2024": [
    { time: "9:00-10:30", subject: "Операционные системы", room: "1С2" },
    { time: "10:40-12:10", subject: "Операционные системы", room: "1С2" },
    { time: "13:20-14:50", subject: "Операционные системы", room: "1С2" },
    { time: "15:00-16:30", subject: "", room: "" },
    { time: "16:40-18:10", subject: "", room: "" }
],
"11/10/2024": [
    { time: "9:00-10:30", subject: "Операционные системы", room: "1С2" },
    { time: "10:40-12:10", subject: "Операционные системы", room: "1С2" },
    { time: "13:20-14:50", subject: "Математический анализ", room: "2А2" },
    { time: "15:00-16:30", subject: "Математический анализ", room: "2А2" },
    { time: "16:40-18:10", subject: "", room: "" }
],
"12/10/2024": [
    { time: "9:00-10:30", subject: "Операционные системы", room: "1С2" },
    { time: "10:40-12:10", subject: "Операционные системы", room: "1С2" },
    { time: "13:20-14:50", subject: "Математический анализ", room: "2А2" },
    { time: "15:00-16:30", subject: "Математический анализ", room: "2А2" },
    { time: "16:40-18:10", subject: "", room: "" }
],
"14/10/2024": [
    { time: "9:00-10:30", subject: "Операционные системы", room: "1С2" },
    { time: "10:40-12:10", subject: "Операционные системы", room: "1С2" },
    { time: "13:20-14:50", subject: "Математический анализ", room: "2А2" },
    { time: "15:00-16:30", subject: "Математический анализ", room: "2А2" },
    { time: "16:40-18:10", subject: "", room: "" }
],
"15/10/2024": [
    { time: "9:00-10:30", subject: "Операционные системы", room: "1С2" },
    { time: "10:40-12:10", subject: "Операционные системы", room: "1С2" },
    { time: "13:20-14:50", subject: "Операционные системы", room: "1С2" },
    { time: "15:00-16:30", subject: "Математический анализ", room: "2А2" },
    { time: "16:40-18:10", subject: "", room: "" }
],
"16/10/2024": [
    { time: "9:00-10:30", subject: "Операционные системы", room: "1С2" },
    { time: "10:40-12:10", subject: "Операционные системы", room: "1С2" },
    { time: "13:20-14:50", subject: "Операционные системы", room: "1С2" },
    { time: "15:00-16:30", subject: "Математический анализ", room: "2А2" },
    { time: "16:40-18:10", subject: "", room: "" }
],
"17/10/2024": [
    { time: "9:00-10:30", subject: "Операционные системы", room: "1С2" },
    { time: "10:40-12:10", subject: "Операционные системы", room: "1С2" },
    { time: "13:20-14:50", subject: "Операционные системы", room: "1С2" },
    { time: "15:00-16:30", subject: "Математический анализ", room: "2А2" },
    { time: "16:40-18:10", subject: "", room: "" }
],
"18/10/2024": [
    { time: "9:00-10:30", subject: "Математический анализ", room: "2А2" },
    { time: "10:40-12:10", subject: "Операционные системы", room: "1С2" },
    { time: "13:20-14:50", subject: "Операционные системы", room: "1С2" },
    { time: "15:00-16:30", subject: "Иностранный язык", room: "2А4, 2С2" },
    { time: "16:40-18:10", subject: "", room: "" }
],
"19/10/2024": [
    { time: "9:00-10:30", subject: "Операционные системы", room: "1С2" },
    { time: "10:40-12:10", subject: "Операционные системы", room: "1С2" },
    { time: "13:20-14:50", subject: "Математический анализ", room: "2А2" },
    { time: "15:00-16:30", subject: "Математический анализ", room: "2А2" },
    { time: "16:40-18:10", subject: "", room: "" }
],
"21/10/2024": [
    { time: "9:00-10:30", subject: "", room: "" },
    { time: "10:40-12:10", subject: "Физкультура", room: "" },
    { time: "13:20-14:50", subject: "Практикум на ЭВМ", room: "1С2" },
    { time: "15:00-16:30", subject: "", room: "" },
    { time: "16:40-18:10", subject: "", room: "" }
],

"22/10/2024": [
    { time: "9:00-10:30", subject: "", room: "" },
    { time: "10:40-12:10", subject: "", room: "" },
    { time: "13:20-14:50", subject: "Операционные системы", room: "1С2" },
    { time: "15:00-16:30", subject: "Практикум на ЭВМ", room: "1С2" },
    { time: "16:40-18:10", subject: "", room: "" }
],

"23/10/2024": [
    { time: "9:00-10:30", subject: "", room: "" },
    { time: "10:40-12:10", subject: "", room: "" },
    { time: "13:20-14:50", subject: "Операционные системы", room: "1С2" },
    { time: "15:00-16:30", subject: "", room: "" },
    { time: "16:40-18:10", subject: "", room: "" }
],

"24/10/2024": [
    { time: "9:00-10:30", subject: "", room: "" },
    { time: "10:40-12:10", subject: "", room: "" },
    { time: "13:20-14:50", subject: "Операционные системы", room: "1С2" },
    { time: "15:00-16:30", subject: "Практикум на ЭВМ", room: "1С2" },
    { time: "16:40-18:10", subject: "", room: "" }
],

"25/10/2024": [
    { time: "9:00-10:30", subject: "", room: "" },
    { time: "10:40-12:10", subject: "Физкультура", room: "" },
    { time: "13:20-14:50", subject: "Операционные системы", room: "1С2" },
    { time: "15:00-16:30", subject: "", room: "" },
    { time: "16:40-18:10", subject: "", room: "" }
],

"26/10/2024": [
    { time: "9:00-10:30", subject: "", room: "" },
    { time: "10:40-12:10", subject: "", room: "" },
    { time: "13:20-14:50", subject: "Операционные системы", room: "1С2" },
    { time: "15:00-16:30", subject: "Практикум на ЭВМ", room: "1С2" },
    { time: "16:40-18:10", subject: "", room: "" }
],

"28/10/2024": [
    { time: "9:00-10:30", subject: "", room: "" },
    { time: "10:40-12:10", subject: "", room: "" },
    { time: "13:20-14:50", subject: "Операционные системы", room: "1С2" },
    { time: "15:00-16:30", subject: "", room: "" },
    { time: "16:40-18:10", subject: "", room: "" }
],

"29/10/2024": [
    { time: "9:00-10:30", subject: "", room: "" },
    { time: "10:40-12:10", subject: "Операционные системы", room: "1С2" },
    { time: "13:20-14:50", subject: "Практикум на ЭВМ", room: "1С2" },
    { time: "15:00-16:30", subject: "", room: "" },
    { time: "16:40-18:10", subject: "", room: "" }
],

"30/10/2024": [
    { time: "9:00-10:30", subject: "", room: "" },
    { time: "10:40-12:10", subject: "", room: "" },
    { time: "13:20-14:50", subject: "Операционные системы", room: "1С2" },
    { time: "15:00-16:30", subject: "", room: "" },
    { time: "16:40-18:10", subject: "", room: "" }
],

"31/10/2024": [
    { time: "9:00-10:30", subject: "", room: "" },
    { time: "10:40-12:10", subject: "Операционные системы", room: "1С2" },
    { time: "13:20-14:50", subject: "Практикум на ЭВМ", room: "1С2" },
    { time: "15:00-16:30", subject: "", room: "" },
    { time: "16:40-18:10", subject: "", room: "" }
]
    
    
        };

        let currentDate = new Date();

        function updateMonthName() {
            const monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
            const monthNameElement = document.getElementById('month-name');
            monthNameElement.textContent = `${monthNames[currentDate.getMonth()]}, ${currentDate.getFullYear()}`;
        }

        function updateWeekdays() {
            const weekdaysContainer = document.getElementById('weekdays');
            weekdaysContainer.innerHTML = '';
            const daysInMonth = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0).getDate();
            const weekdayNames = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
            for (let i = 1; i <= daysInMonth; i++) {
                const date = new Date(currentDate.getFullYear(), currentDate.getMonth(), i);
                const div = document.createElement('div');
                div.className = 'day-block';
                div.onclick = () => selectDay(i);

                const dayAbbreviation = document.createElement('span');
                dayAbbreviation.textContent = weekdayNames[date.getDay()];

                const dayNumber = document.createElement('span');
                dayNumber.textContent = `${i}`;

                div.appendChild(dayAbbreviation);
                div.appendChild(dayNumber);
                weekdaysContainer.appendChild(div);
            }
            selectDay(currentDate.getDate());
            scrollToCurrentDay();
        }

        function scrollToCurrentDay() {
            const weekdaysContainer = document.getElementById('weekdays');
            const currentDayElement = document.querySelector(`.weekdays div:nth-child(${currentDate.getDate()})`);

            if (currentDayElement) {
                const containerWidth = weekdaysContainer.clientWidth;
                const dayOffset = currentDayElement.offsetLeft - (containerWidth / 2) + (currentDayElement.offsetWidth / 2);
                weekdaysContainer.scrollLeft = dayOffset;
            }
        }

        function selectDay(day) {
            currentDate.setDate(day);
            document.querySelectorAll('.weekdays div').forEach(div => {
                div.classList.remove('active');
            });
            const selectedDayDiv = document.querySelector(`.weekdays div:nth-child(${day})`);
            selectedDayDiv.classList.add('active');
            updateTaskList();
        }

function updateTaskList() {
    const taskList = document.getElementById('task-list');
    taskList.innerHTML = '';

    // Проверяем, является ли выбранный день воскресеньем (0 — это воскресенье)
    if (currentDate.getDay() === 0) {
        const weekendMessage = document.createElement('div');
        weekendMessage.textContent = 'ВЫХОДНОЙ';
        
        // Добавляем стили для большего и жирного шрифта
        weekendMessage.style.fontSize = '30px';
        weekendMessage.style.fontWeight = 'bold';
        weekendMessage.style.textAlign = 'center'; // Центрируем текст
        weekendMessage.style.color = '#4e54c8'; // Цвет текста
        weekendMessage.style.marginTop = '0px'; // Отступ сверху

        taskList.appendChild(weekendMessage);
        return; // Выходим из функции, так как нет задач для воскресенья
    }

    const dateKey = `${String(currentDate.getDate()).padStart(2, '0')}/${String(currentDate.getMonth() + 1).padStart(2, '0')}/${currentDate.getFullYear()}`;
    const colors = ['color-1', 'color-2', 'color-3', 'color-4', 'color-5']; // Список цветов

    if (scheduleData[dateKey]) {
        scheduleData[dateKey].forEach((task, index) => {
            const li = document.createElement('li');
            
            const timeSpan = document.createElement('span');
            timeSpan.textContent = task.time;

            const subjectSpan = document.createElement('span');
            subjectSpan.textContent = task.subject || ' ';
            subjectSpan.classList.add('subject');

            const roomSpan = document.createElement('span');
            roomSpan.textContent = task.room || ' ';
            roomSpan.classList.add('room');

            li.classList.add(colors[index % colors.length]);
            li.appendChild(timeSpan);
            li.appendChild(subjectSpan);
            li.appendChild(roomSpan);
            li.classList.add('task-item');

            const currentTime = new Date();
            const [startTime, endTime] = task.time.split('-').map(t => {
                const [hours, minutes] = t.split(':').map(Number);
                return new Date(currentDate.getFullYear(), currentDate.getMonth(), currentDate.getDate(), hours, minutes);
            });

            if (currentTime >= startTime && currentTime < endTime) {
                li.classList.add('active');
                const checkmark = document.createElement('span');
                checkmark.className = 'checkmark';
                checkmark.innerHTML = '&#10003;';
                li.appendChild(checkmark);
            } else if (currentTime >= endTime) {
                li.classList.add('completed');
            }

            taskList.appendChild(li);
        });
    }
}

        function checkTaskCompletion() {
            const taskList = document.getElementById('task-list');
            const currentTime = new Date();

            const taskItems = taskList.querySelectorAll('li');
            taskItems.forEach((item, index) => {
                const timeText = item.textContent.split(' - ')[0];
                const [startTime, endTime] = timeText.split('-').map(t => {
                    const [hours, minutes] = t.split(':').map(Number);
                    return new Date(currentDate.getFullYear(), currentDate.getMonth(), currentDate.getDate(), hours, minutes);
                });

                if (currentTime >= startTime && currentTime < endTime) {
                    item.classList.add('active');
                    const checkmark = document.createElement('span');
                    checkmark.className = 'checkmark';
                    checkmark.innerHTML = '&#10003;';
                    item.appendChild(checkmark);
                } else if (currentTime >= endTime) {
                    item.classList.add('completed');
                }
            });
        }

        // Обновление расписания каждую минуту
        setInterval(() => {
            updateTaskList();
            checkTaskCompletion();
        }, 60000);

        // Инициализация
        updateMonthName();
        updateWeekdays();
        updateTaskList();
    </script>
</body>
</html>